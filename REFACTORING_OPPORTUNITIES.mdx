# Shadcn October 2025 Components: Refactoring Opportunities

This document outlines the refactoring opportunities available with the new shadcn components released in October 2025. Based on the analysis of our current codebase, here are the key areas for improvement and modernization.

## üéØ Current State Analysis

Our project already has most of the new shadcn components implemented:

‚úÖ **Already Implemented:**

- Spinner (`src/components/ui/spinner.tsx`)
- Kbd (`src/components/ui/kbd.tsx`)
- Button Group (`src/components/ui/button-group.tsx`)
- Input Group (`src/components/ui/input-group.tsx`)
- Field (`src/components/ui/field.tsx`)
- Item (`src/components/ui/item.tsx`)
- Empty (`src/components/ui/empty.tsx`)

## üö® Key Issues to Address

### 1. Form Library Inconsistency

**Current Issue:** Organization and User features are using TanStack React Form instead of react-hook-form (user preference)

**Affected Files:**

- `src/features/organization/organization-card.tsx`
- `src/features/user/user-card.tsx`
- `src/features/user/enhanced-user-profile.tsx`
- `src/features/user/appearance-settings.tsx`
- `src/features/user/notification-settings.tsx`
- `src/features/user/security-settings.tsx`

**Solution:** Modernize these feature components directly with react-hook-form + new shadcn components

### 2. Legacy Form Patterns

**Current Issue:** Using old `FormField` and `PasswordField` components instead of modern shadcn Field components

**Benefits of New Field Component:**

- Better semantic structure with proper ARIA support
- Consistent spacing and layout
- Built-in error handling and descriptions
- Responsive design support
- Better accessibility out of the box

## üîÑ Refactoring Opportunities by Component

### 1. Field Component - Form Structure Improvement

**Current Pattern:**

```tsx
<div className="grid gap-2">
  <Label htmlFor={field.name}>{label}</Label>
  <Input
    id={field.name}
    value={field.state.value}
    onChange={(e) => field.handleChange(e.target.value)}
  />
  <FormFieldInfo field={field} />
</div>
```

**Improved Pattern:**

```tsx
<Field>
  <FieldLabel htmlFor={field.name}>{label}</FieldLabel>
  <Input
    id={field.name}
    value={field.state.value}
    onChange={(e) => field.handleChange(e.target.value)}
  />
  <FieldDescription>Helper text here</FieldDescription>
  <FieldError errors={field.state.meta.errors} />
</Field>
```

**Benefits:**

- Better semantic HTML structure
- Consistent spacing and typography
- Built-in error handling
- Improved accessibility
- Responsive design support

### 2. Input Group - Enhanced Input Fields

**Use Cases in Our Forms:**

- Search inputs with icons
- URL inputs with prefix/suffix
- Inputs with action buttons
- Text areas with send buttons

**Current Pattern:**

```tsx
<Input placeholder="Search..." />
```

**Improved Pattern:**

```tsx
<InputGroup>
  <InputGroupInput placeholder="Search..." />
  <InputGroupAddon>
    <SearchIcon />
  </InputGroupAddon>
</InputGroup>
```

**Advanced Example:**

```tsx
<InputGroup>
  <InputGroupText>https://</InputGroupText>
  <InputGroupInput placeholder="example.com" />
  <InputGroupAddon align="inline-end">
    <Button size="icon-xs" variant="ghost">
      <CopyIcon />
    </Button>
  </InputGroupAddon>
</InputGroup>
```

### 3. Button Group - Related Actions

**Use Cases:**

- Auth forms with multiple social login options
- Form action buttons (Save/Cancel)
- Navigation actions (Back/Next)
- Filter/sort controls

**Current Pattern:**

```tsx
<div className="flex gap-2">
  <Button variant="outline">Archive</Button>
  <Button variant="outline">Report</Button>
  <Button variant="outline">Snooze</Button>
</div>
```

**Improved Pattern:**

```tsx
<ButtonGroup>
  <Button variant="outline">Archive</Button>
  <Button variant="outline">Report</Button>
  <Button variant="outline">Snooze</Button>
</ButtonGroup>
```

### 4. Spinner - Loading States

**Current Pattern:**

```tsx
{
  isLoading && <Loader2 className="animate-spin" />;
}
```

**Improved Pattern:**

```tsx
<Spinner />
```

**Benefits:**

- Consistent loading indicator
- Built-in accessibility (role="status", aria-label)
- Configurable sizing and styling
- Better semantic meaning

### 5. Empty - Empty States

**Use Cases:**

- No search results
- Empty data tables
- No items in lists
- Empty dashboard states

**Pattern:**

```tsx
<Empty>
  <EmptyMedia>
    <SearchIcon />
  </EmptyMedia>
  <EmptyTitle>No results found</EmptyTitle>
  <EmptyDescription>Try adjusting your search terms</EmptyDescription>
</Empty>
```

### 6. Item - List Items

**Use Cases:**

- User lists
- Search results
- Menu items
- Card layouts

**Pattern:**

```tsx
<Item>
  <ItemMedia>
    <Avatar />
  </ItemMedia>
  <ItemContent>
    <ItemTitle>User Name</ItemTitle>
    <ItemDescription>user@example.com</ItemDescription>
  </ItemContent>
</Item>
```

### 7. Kbd - Keyboard Shortcuts

**Use Cases:**

- Displaying keyboard shortcuts in tooltips
- Documentation of hotkeys
- Command palettes

**Pattern:**

```tsx
<KbdGroup>
  <Kbd>Ctrl</Kbd>
  <Kbd>K</Kbd>
</KbdGroup>
```

## üìã Specific Refactoring Targets

### High Priority Features

#### 1. Organization Management (`src/features/organization/`)

**Files to Modernize:**

- `organization-card.tsx` - Main organization management interface
- `organization-switcher.tsx` - Organization selection component
- `organization-hooks.ts` - Custom hooks for organization operations

**Modernization Opportunities:**

- Replace TanStack React Form with react-hook-form
- Use Field component for organization settings forms
- Use Input Group for organization search and filtering
- Use Button Group for organization actions (create/invite/leave)
- Use Spinner for async operations
- Use Empty state for no organizations
- Use Item component for organization lists

#### 2. User Profile Management (`src/features/user/`)

**Files to Modernize:**

- `user-card.tsx` - Main user profile interface
- `enhanced-user-profile.tsx` - Enhanced profile editing
- `appearance-settings.tsx` - Theme and appearance settings
- `notification-settings.tsx` - Notification preferences
- `security-settings.tsx` - Security and privacy settings

**Modernization Opportunities:**

- Replace TanStack React Form with react-hook-form
- Use Field component for all form sections
- Use Input Group for search inputs and URL fields
- Use Button Group for related actions (save/cancel/reset)
- Use Spinner for loading states
- Use Kbd for keyboard shortcuts in settings
- Use Item component for settings categories

#### 3. Legacy Form Components (Keep for Reference)

**Current Status:** These components will remain as-is since we're modernizing features directly

- `src/components/form/form-field.tsx` - Legacy TanStack form field
- `src/components/form/password-field.tsx` - Legacy password field

**Note:** These legacy components will remain as-is since we're modernizing the organization and user features directly rather than refactoring form utilities.

## üöÄ Implementation Strategy

### Phase 1: Organization Management Modernization (Week 1)

1. **organization-card.tsx** - Migrate to react-hook-form
   - Replace TanStack React Form with react-hook-form
   - Use Field component for organization creation/editing forms
   - Implement Input Group for search and organization details
   - Use Button Group for organization actions

2. **organization-switcher.tsx** - Modernize component structure
   - Use Item component for organization list display
   - Implement Empty state for no organizations
   - Add Spinner for loading states

3. **organization-hooks.ts** - Update hook patterns
   - Ensure hooks work with react-hook-form
   - Add proper loading and error states

### Phase 2: User Profile Management Modernization (Week 2)

1. **user-card.tsx** - Comprehensive form modernization
   - Migrate all forms to react-hook-form
   - Use Field component for profile sections
   - Implement Input Group for URL and search inputs
   - Use Button Group for related actions

2. **enhanced-user-profile.tsx** - Enhanced profile editing
   - Modern form structure with Field components
   - Better validation with react-hook-form + Zod
   - Use Spinner for async profile updates

3. **Settings Components** - Modernize all settings pages
   - `appearance-settings.tsx` - Use Field for theme selection
   - `notification-settings.tsx` - Use Field for notification preferences
   - `security-settings.tsx` - Use Field for security options

### Phase 3: Component Integration and Polish (Week 3)

1. **Implement New Component Patterns**
   - Use Kbd for keyboard shortcuts in settings
   - Add Empty states for empty lists and search results
   - Implement consistent Spinner usage across all features

2. **Accessibility and Polish**
   - Ensure all new Field components meet accessibility standards
   - Add proper keyboard navigation support
   - Test with screen readers
   - Optimize for mobile devices
   - Add proper ARIA labels and descriptions

## üìä Benefits Summary

| Component          | Current Issues                         | Benefits After Refactoring                             |
| ------------------ | -------------------------------------- | ------------------------------------------------------ |
| **Field**          | Custom styling, inconsistent structure | Semantic HTML, consistent design, better accessibility |
| **Input Group**    | Basic inputs                           | Enhanced UX with icons, buttons, tooltips              |
| **Button Group**   | Separate buttons                       | Cohesive action groups, better visual hierarchy        |
| **Spinner**        | Custom loading icons                   | Consistent loading states, built-in accessibility      |
| **Form Structure** | TanStack React Form                    | react-hook-form preference, better validation          |

## üîó Resources

- [Shadcn Field Component Documentation](https://ui.shadcn.com/docs/components/field)
- [Shadcn Input Group Documentation](https://ui.shadcn.com/docs/components/input-group)
- [Shadcn Button Group Documentation](https://ui.shadcn.com/docs/components/button-group)
- [React Hook Form Migration Guide](https://react-hook-form.com/docs/migrating-from-other-libraries)

## üìù Next Steps

1. Review this document with the team
2. Prioritize refactoring based on user impact
3. Create detailed implementation tickets
4. Set up testing strategy for migrated components
5. Plan accessibility audit after refactoring

---

_This document will be updated as we progress through the refactoring phases. Last updated: October 2025_
